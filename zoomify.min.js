(function(c){var d={init:function(b){var e=c.extend({width:500,height:500,opacity:0.3},b);return this.each(function(b){c(this).css("position","relative");var a=c(this).children("img");if(1==a.length){var d="z"+b;a.load(function(){c("<img/>",{src:a.parent().attr("href"),"class":"fullsize",css:{position:"absolute",top:0,left:0,width:"auto"}}).appendTo(c("<div />",{id:d,"class":"zoomed",css:{"background-image":'url("loading.gif")',"background-repeat":"no-repeat","background-position":"center center",
position:"absolute",overflow:"hidden",display:"none",width:e.width+"px",height:e.height+"px",top:a.offset().top,left:a.offset().left+a.width()+20,border:"1px solid #ccc"}}).insertAfter(a.parent()));c("<div/>",{css:{position:"absolute","background-color":"#fff",border:"1px solid #000",opacity:e.opacity,width:30,height:30,display:"none",top:0,left:0,"z-index":1E3}}).insertBefore(a);var b=c("#"+d),m=a.parent(),f=a.siblings("div"),i=b.children("img"),j,g=a.width(),h=a.height(),k,l;m.mouseenter(function(){b.css({top:a.offset().top,
left:a.offset().left+a.width()+20});j=a.offset();b.fadeIn();f.fadeIn();k=i.width();l=i.height();f.css({width:function(){magWidth=g/(k/e.width);return magWidth-2},height:function(){magHeight=h/(l/e.height);return magHeight-2}})}).mouseleave(function(){b.fadeOut();f.fadeOut()}).mousemove(function(a){var b=a.pageX-j.left-magWidth/2,a=a.pageY-j.top-magHeight/2;0>=b&&(b=0);0>=a&&(a=0);b>g-magWidth&&(b=g-magWidth);a>h-magHeight&&(a=h-magHeight);var c=-(k/g)*b,d=-(l/h)*a;f.css({left:b,top:a});i.css({left:c,
top:d})})})}})}};c.fn.zoomify=function(b){if(d[b])return d[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return d.init.apply(this,arguments);c.error('Method "'+b+'" does not exist in jQuery.zoomify')}})(jQuery);